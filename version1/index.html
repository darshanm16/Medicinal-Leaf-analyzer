<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Leaf Analyzer AI</title>
    <!-- <link rel="stylesheet" href="style.css"> -->
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap");

        :root {
            --neon-cyan: #00e5ff;
            --neon-violet: #7c4dff;
            --neon-green: #00ffa3;
            --bg-dark: #050b14;
            --glass: rgba(255, 255, 255, 0.08);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Inter", sans-serif;
            background: linear-gradient(270deg, #050b14, #0a1a2f, #050b14);
            background-size: 400% 400%;
            animation: gradientFlow 18s ease infinite;
            color: #e6f1ff;
            min-height: 100vh;
            padding: 25px;
        }

        @keyframes gradientFlow {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .container {
            max-width: 1450px;
            margin: auto;
        }

        /* ---------- HEADER ---------- */
        header {
            text-align: center;
            margin-bottom: 40px;
        }

        header h1 {
            font-size: 3rem;
            background: linear-gradient(90deg, var(--neon-cyan), var(--neon-violet));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        header p {
            opacity: 0.85;
            font-size: 1.1rem;
        }

        /* ---------- MAIN CONTENT ---------- */
        .main-content {
            display: grid;
            gap: 30px;
            margin-bottom: 40px;
        }

        /* ---------- GLASS CARDS ---------- */
        .upload-section,
        .results-section,
        .info-section {
            background: var(--glass);
            backdrop-filter: blur(14px);
            border-radius: 22px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 40px rgba(0, 229, 255, 0.08);
            padding: 40px;
        }

        /* ---------- UPLOAD AREA ---------- */
        .upload-area {
            border: 2px dashed rgba(0, 229, 255, 0.5);
            border-radius: 20px;
            padding: 60px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .upload-area::after {
            content: "";
            position: absolute;
            inset: 0;
            background: linear-gradient(120deg,
                    transparent,
                    rgba(0, 229, 255, 0.2),
                    transparent);
            transform: translateX(-100%);
            pointer-events: none;
        }

        .upload-area:hover::after {
            animation: scan 1.5s linear infinite;
        }

        @keyframes scan {
            100% {
                transform: translateX(100%);
            }
        }

        .upload-area:hover {
            box-shadow: 0 0 35px rgba(0, 229, 255, 0.4);
            transform: translateY(-6px);
            border-color: var(--neon-cyan);
        }

        .upload-area.dragover {
            background: rgba(0, 229, 255, 0.1);
            border-color: var(--neon-cyan);
        }

        .upload-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .upload-area h3 {
            font-size: 1.8rem;
            margin-bottom: 10px;
            color: var(--neon-cyan);
        }

        .upload-area p {
            opacity: 0.7;
            font-size: 1rem;
        }

        #fileInput {
            display: none;
        }

        /* ---------- CAMERA OPTIONS ---------- */
        .camera-options {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
        }

        .btn-camera {
            background: rgba(0, 229, 255, 0.1);
            border: 2px solid var(--neon-cyan);
            color: var(--neon-cyan);
            padding: 12px 30px;
            border-radius: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .btn-camera:hover {
            background: rgba(0, 229, 255, 0.2);
            box-shadow: 0 0 25px rgba(0, 229, 255, 0.4);
        }

        .camera-icon {
            font-size: 1.3rem;
        }

        #cameraInput,
        #galleryInput {
            display: none;
        }

        /* ---------- PREVIEW ---------- */
        .preview-container {
            display: none;
            text-align: center;
        }

        .preview-container.active {
            display: block;
        }

        .preview-image {
            max-width: 100%;
            max-height: 400px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 0 30px rgba(0, 229, 255, 0.3);
        }

        /* ---------- BUTTONS ---------- */
        .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        button {
            padding: 14px 35px;
            border: none;
            border-radius: 14px;
            font-weight: 600;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--neon-cyan), var(--neon-violet));
            color: #fff;
            box-shadow: 0 0 25px rgba(0, 229, 255, 0.5);
        }

        .btn-primary:hover {
            box-shadow: 0 0 45px rgba(124, 77, 255, 0.8);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: transparent;
            color: var(--neon-cyan);
            border: 2px solid var(--neon-cyan);
        }

        .btn-secondary:hover {
            background: rgba(0, 229, 255, 0.15);
        }

        /* ---------- LOADING ---------- */
        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 5px solid rgba(255, 255, 255, 0.1);
            border-top: 5px solid var(--neon-cyan);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
            box-shadow: 0 0 25px rgba(0, 229, 255, 0.8);
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .loading p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        /* ---------- RESULTS ---------- */
        /* .results-section {
  visible by default so placeholder can be seen
} */

        .results-section .no-data {
            text-align: center;
            color: rgba(230, 241, 255, 0.7);
            font-size: 1.1rem;
            padding: 25px 0;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.02);
        }

        .results-section .results-content {
            display: none;
        }

        .results-section.active .no-data {
            display: none;
        }

        .results-section.active .results-content {
            display: block;
        }

        .species-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(0, 229, 255, 0.05);
            border-radius: 15px;
            border: 1px solid rgba(0, 229, 255, 0.2);
        }

        .species-icon {
            font-size: 4rem;
        }

        .species-info h2 {
            color: var(--neon-cyan);
            font-size: 2rem;
            margin-bottom: 8px;
        }

        .species-info h3 {
            color: #e6f1ff;
            font-size: 1.3rem;
            font-weight: 400;
            opacity: 0.9;
            margin-bottom: 12px;
        }

        .confidence {
            display: inline-block;
            background: linear-gradient(90deg, var(--neon-green), var(--neon-cyan));
            color: #000;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 1.1rem;
            box-shadow: 0 0 20px rgba(0, 255, 163, 0.6);
        }

        /* ---------- METRICS GRID ---------- */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: linear-gradient(160deg,
                    rgba(255, 255, 255, 0.12),
                    rgba(255, 255, 255, 0.04));
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 15px;
            padding: 25px;
            transition: all 0.3s ease;
            box-shadow: 0 0 30px rgba(0, 229, 255, 0.12);
        }

        .metric-card:hover {
            box-shadow: 0 0 45px rgba(0, 229, 255, 0.4);
            transform: translateY(-5px);
        }

        .metric-card h4 {
            color: var(--neon-cyan);
            font-size: 1.3rem;
            margin-bottom: 20px;
            border-bottom: 2px solid rgba(0, 229, 255, 0.3);
            padding-bottom: 10px;
        }

        .quality-score {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            padding: 8px 0;
        }

        .score-label {
            opacity: 0.8;
            font-size: 0.95rem;
        }

        .score-value {
            color: var(--neon-green);
            font-weight: 600;
            font-size: 1rem;
        }

        /* ---------- PROPERTY LIST ---------- */
        .property-list {
            list-style: none;
        }

        .property-item {
            display: grid;
            grid-template-columns: 150px 1fr 60px;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .property-name {
            font-weight: 600;
            color: #e6f1ff;
        }

        .property-bar {
            height: 12px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 10px;
            overflow: hidden;
        }

        .property-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--neon-cyan), var(--neon-violet));
            border-radius: 10px;
            transition: width 1s ease;
            box-shadow: 0 0 15px rgba(0, 229, 255, 0.7);
        }

        .property-value {
            text-align: right;
            font-weight: 600;
            color: var(--neon-green);
        }

        /* ---------- INFO SECTION ---------- */
        .info-section h2 {
            text-align: center;
            color: var(--neon-cyan);
            font-size: 2rem;
            margin-bottom: 30px;
        }

        .steps-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
        }

        .step-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
            box-shadow: inset 0 0 25px rgba(0, 229, 255, 0.1);
        }

        .step-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 35px rgba(0, 229, 255, 0.3);
        }

        .step-number {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--neon-cyan), var(--neon-violet));
            color: #000;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            font-weight: 700;
            margin: 0 auto 20px;
        }

        .step-card h3 {
            color: var(--neon-cyan);
            font-size: 1.4rem;
            margin-bottom: 15px;
        }

        .step-card p {
            opacity: 0.85;
            line-height: 1.6;
        }

        /* ---------- MOBILE ---------- */
        @media (max-width: 900px) {
            header h1 {
                font-size: 2.2rem;
            }

            .property-item {
                grid-template-columns: 120px 1fr 50px;
                gap: 10px;
            }

            body {
                padding: 15px;
            }

            .upload-section,
            .results-section,
            .info-section {
                padding: 25px;
            }
        }

        @media (min-width: 1500px) {
            .main-content {
                grid-template-columns: 1fr 1fr;
            }
        }

        .results-section .no-data {
            text-align: center;
            padding: 40px 25px;
            border-radius: 16px;
            background: rgba(255, 255, 255, 0.04);
        }

        .empty-icon {
            font-size: 4rem;
            margin-bottom: 15px;
        }

        .no-data h3 {
            color: var(--neon-cyan);
            font-size: 1.6rem;
            margin-bottom: 10px;
        }

        .no-data p {
            opacity: 0.85;
            font-size: 1rem;
            margin-bottom: 25px;
        }

        .empty-steps {
            display: grid;
            gap: 10px;
            margin-bottom: 20px;
            font-size: 0.95rem;
        }

        .empty-steps div {
            padding: 10px;
            border-radius: 10px;
            background: rgba(0, 229, 255, 0.08);
            border: 1px solid rgba(0, 229, 255, 0.2);
        }

        .no-data small {
            opacity: 0.7;
            font-size: 0.85rem;
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>ðŸŒ¿ Medical Leaf Analyzer</h1>
            <p>AI Powered Medicinal Plant Property Detection</p>
        </header>

        <div class="main-content">
            <div class="upload-section">
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">ðŸ“¤</div>
                    <h3>Upload Image</h3>
                    <p>Click to browse or drag and drop your leaf image here</p>
                    <input type="file" id="fileInput" accept="image/*">
                </div>

                <div class="camera-options">
                    <button class="btn-camera" id="cameraBtn">
                        <span>Capture Leaf</span>
                    </button>
                </div>
                <input type="file" id="cameraInput" accept="image/*" capture="environment">
                <input type="file" id="galleryInput" accept="image/*">

                <div class="preview-container" id="previewContainer">
                    <img id="previewImage" class="preview-image" alt="Leaf preview">
                    <div class="button-group">
                        <button class="btn-primary" id="analyzeBtn">Analyze Leaf</button>
                        <button class="btn-secondary" id="resetBtn">Reset</button>
                    </div>
                </div>

                <div class="loading" id="loadingIndicator">
                    <div class="spinner"></div>
                    <p>Analyzing leaf properties...</p>
                </div>
            </div>


            <div class="results-section" id="resultsSection">
                <!-- <div class="no-data" id="noData">No data</div> -->
                <div class="no-data" id="noData">
                    <div class="empty-icon">ðŸŒ¿</div>
                    <h3>Awaiting Leaf Image</h3>
                    <p>
                        Upload or capture a clear image of a medicinal leaf to begin AI analysis.
                    </p>

                    <div class="empty-steps">
                        <div>ðŸ“¸ Capture / Upload Leaf</div>
                        <div>ðŸ§  ResNet Feature Extraction</div>
                        <div>ðŸ“Š SVM Classification</div>
                        <div>âœ… Related Medicinal Property</div>
                    </div>

                    <small>
                        Tip: Use a plain background and good lighting for best accuracy
                    </small>
                </div>

                <div id="medicinalResult" class="results-content">

                    <div class="results-content">

                        <!-- ðŸŒ¿ IDENTIFICATION -->
                        <div class="species-header">
                            <div class="species-info">
                                <h2 id="scientificName">Ocimum sanctum</h2>
                                <h3 id="commonName">Holy Basil (Tulsi)</h3>
                                <span class="confidence" id="confidence">94.2%</span>
                            </div>
                        </div>

                        <!-- ðŸ“Š METRICS GRID -->
                        <div class="metrics-grid">

                            <!-- ðŸ§  AI MODEL INFO -->
                            <div class="metric-card">
                                <h4>AI Model Information</h4>
                                <div class="quality-score">
                                    <span class="score-label">Feature Extractor:</span>
                                    <span id="featureExtractor" class="score-value">ResNet-50</span>
                                </div>
                                <div class="quality-score">
                                    <span class="score-label">Classifier:</span>
                                    <span id="classifier" class="score-value">SVM</span>
                                </div>
                                <div class="quality-score">
                                    <span class="score-label">Feature Vector Size:</span>
                                    <span id="featureVector" class="score-value">2048</span>
                                </div>
                                <div class="quality-score">
                                    <span class="score-label">Inference Time:</span>
                                    <span id="inferenceTime" class="score-value">~120 ms</span>
                                </div>
                                <div class="quality-score">
                                    <span class="score-label">Model Accuracy:</span>
                                    <span id="modelAccuracy" class="score-value">92.4%</span>
                                </div>
                            </div>

                            <!-- ðŸƒ MORPHOLOGICAL ANALYSIS -->
                            <div class="metric-card">
                                <h4>Morphological Analysis</h4>
                                <div class="quality-score">
                                    <span class="score-label">Area:</span>
                                    <span id="area" class="score-value">1578 pxÂ²</span>
                                </div>
                                <div class="quality-score">
                                    <span class="score-label">Perimeter:</span>
                                    <span id="perimeter" class="score-value">181 px</span>
                                </div>
                                <div class="quality-score">
                                    <span class="score-label">Aspect Ratio:</span>
                                    <span id="aspectRatio" class="score-value">1.65</span>
                                </div>
                                <div class="quality-score">
                                    <span class="score-label">Circularity:</span>
                                    <span id="circularity" class="score-value">0.69</span>
                                </div>
                                <div class="quality-score">
                                    <span class="score-label">Symmetry:</span>
                                    <span id="symmetry" class="score-value">0.81</span>
                                </div>
                            </div>

                            <!-- ðŸŽ¨ COLOR & TEXTURE -->
                            <div class="metric-card">
                                <h4>Color & Texture Analysis</h4>
                                <div class="quality-score">
                                    <span class="score-label">Chlorophyll Index:</span>
                                    <span id="chlorophyll" class="score-value">0.87</span>
                                </div>
                                <div class="quality-score">
                                    <span class="score-label">Health Score:</span>
                                    <span id="healthScore" class="score-value">89%</span>
                                </div>
                                <div class="quality-score">
                                    <span class="score-label">Smoothness:</span>
                                    <span id="smoothness" class="score-value">70%</span>
                                </div>
                                <div class="quality-score">
                                    <span class="score-label">Vein Prominence:</span>
                                    <span id="veinProminence" class="score-value">Moderate</span>
                                </div>
                                <div class="quality-score">
                                    <span class="score-label">Disease Spots:</span>
                                    <span id="diseaseSpots" class="score-value">Not Detected</span>
                                </div>
                            </div>

                            <!-- ðŸ§ª QUALITY ASSESSMENT -->
                            <div class="metric-card">
                                <h4>Leaf Quality Assessment</h4>
                                <div class="quality-score">
                                    <span class="score-label">Overall Quality:</span>
                                    <span id="overallQuality" class="score-value">Excellent</span>
                                </div>
                                <div class="quality-score">
                                    <span class="score-label">Freshness:</span>
                                    <span id="freshness" class="score-value">High</span>
                                </div>
                                <div class="quality-score">
                                    <span class="score-label">Contamination:</span>
                                    <span id="contamination" class="score-value">None Detected</span>
                                </div>
                                <div class="quality-score">
                                    <span class="score-label">Damage Level:</span>
                                    <span id="damage" class="score-value">&lt; 5%</span>
                                </div>
                            </div>

                        </div>

                        <!-- ðŸ’Š MEDICINAL PROPERTIES -->
                        <div class="metric-card" style="margin-bottom: 30px;">
                            <h4>Related Medicinal Properties</h4>
                            <ul class="property-list">

                                <li class="property-item">
                                    <span class="property-name">Anti-inflammatory</span>
                                </li>

                                <li class="property-item">
                                    <span class="property-name">Antioxidant</span>
                                </li>

                                <li class="property-item">
                                    <span class="property-name">Antimicrobial</span>
                                </li>

                                <li class="property-item">
                                    <span class="property-name">Immunomodulatory</span>
                                </li>

                            </ul>
                        </div>

                        <!-- âš ï¸ SAFETY & USAGE -->
                        <div class="metric-card">
                            <h4>Usage & Safety Information</h4>
                            <div class="quality-score">
                                <span class="score-label">Traditional Use:</span>
                                <span class="score-value">Ayurvedic Medicine</span>
                            </div>
                            <div class="quality-score">
                                <span class="score-label">Common Preparation:</span>
                                <span class="score-value">Herbal Tea / Paste</span>
                            </div>
                            <div class="quality-score">
                                <span class="score-label">Safety Notice:</span>
                                <span class="score-value">Consult a medical professional</span>
                            </div>
                        </div>

                    </div>
                </div>

                <div id="nonMedicinalResult" class="results-content non-medical-result">

                    <!-- ðŸš« IDENTIFICATION FAILED -->
                    <div class="species-header"
                        style="border-color: rgba(255, 80, 80, 0.4); background: rgba(255, 80, 80, 0.08);">
                        <div class="species-info">
                            <h2 style="color:#ff6b6b;">Non-Medicinal Leaf Detected</h2>
                            <h3 style="opacity:0.9;">This leaf does not match known medicinal species</h3>
                            <span class="confidence" style="background:linear-gradient(90deg,#ff6b6b,#ff9f43);">
                                Low Confidence
                            </span>
                        </div>
                    </div>

                    <!-- ðŸ“‰ ANALYSIS SUMMARY -->
                    <div class="metrics-grid">

                        <div class="metric-card">
                            <h4>Analysis Summary</h4>

                            <div class="quality-score">
                                <span class="score-label">Classification Result:</span>
                                <span id="nmClassification"></span>
                                <span class="score-value">Non-Medicinal / Unknown</span>
                            </div>
                            <div class="quality-score">
                                <span class="score-label">Confidence Level:</span>
                                <span id="nmConfidenceLevel"></span>
                                <span class="score-value">Below Threshold (&lt; 60%)</span>
                            </div>
                            <div class="quality-score">
                                <span class="score-label">Model Decision:</span>
                                <span id="nmModelDecision"></span>
                                <span class="score-value">Rejected</span>
                            </div>
                            <div class="quality-score">
                                <span class="score-label">Possible Cause:</span>
                                <span id="nmPossibleCause"></span>
                                <span class="score-value">Out of trained classes</span>
                            </div>
                        </div>

                        <!-- ðŸ–¼ IMAGE QUALITY CHECK -->
                        <div class="metric-card">
                            <h4>Image Quality Check</h4>
                            <div class="quality-score">
                                <span class="score-label">Leaf Visibility:</span>
                                <span id="nmLeafVisibility"></span>
                                <span class="score-value">Detected</span>
                            </div>
                            <div class="quality-score">
                                <span class="score-label">Background Noise:</span>
                                <span id="nmBackgroundNoise"></span>
                                <span class="score-value">High</span>
                            </div>
                            <div class="quality-score">
                                <span class="score-label">Lighting:</span>
                                <span id="nmLighting"></span>
                                <span class="score-value">Uneven</span>
                            </div>
                            <div class="quality-score">
                                <span class="score-label">Blur:</span>
                                <span id="nmBlur"></span>
                                <span class="score-value">Moderate</span>
                            </div>
                        </div>

                        <!-- ðŸ§  MODEL INFO -->
                        <div class="metric-card">
                            <h4>AI Model Decision</h4>
                            <div class="quality-score">
                                <span class="score-label">Feature Extractor:</span>
                                <span id="nmFeatureExtractor"></span>
                                <span class="score-value">ResNet-50</span>
                            </div>
                            <div class="quality-score">
                                <span class="score-label">Classifier:</span>
                                <span id="nmClassifier"></span>
                                <span class="score-value">SVM</span>
                            </div>
                            <div class="quality-score">
                                <span class="score-label">Decision Strategy:</span>
                                <span id="nmDecisionStrategy"></span>
                                <span class="score-value">Confidence Thresholding</span>
                            </div>
                            <div class="quality-score">
                                <span class="score-label">Threshold:</span>
                                <span id="nmThreshold"></span>
                                <span class="score-value">â‰¥ 70%</span>
                            </div>
                        </div>

                    </div>

                    <!-- âœ… USER GUIDANCE -->
                    <div class="metric-card">
                        <h4>What You Can Do</h4>
                        <ul style="line-height:1.8; opacity:0.85;">
                            <li>Ensure the image contains a single medicinal leaf</li>
                            <li>Use a plain background with good lighting</li>
                            <li>Avoid flowers, fruits, or multiple leaves</li>
                            <li>Try known medicinal plants (Tulsi, Neem, Aloe, Mint)</li>
                            <li>Capture the leaf from the top view</li>
                        </ul>
                    </div>


                </div>
            </div>
        </div>

        <div class="info-section">
            <h2>How It Works</h2>
            <div class="steps-container">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <h3>Upload Image</h3>
                    <p>Capture or upload a clear image of the medicinal leaf against a plain background</p>
                </div>
                <div class="step-card">
                    <div class="step-number">2</div>
                    <h3>AI Analysis</h3>
                    <p>Deep learning models extract morphological, color, and texture features</p>
                </div>
                <div class="step-card">
                    <div class="step-number">3</div>
                    <h3>Get Results</h3>
                    <p>Receive detailed analysis of species, quality, and medicinal properties</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        const cameraBtn = document.getElementById('cameraBtn');
        const cameraInput = document.getElementById('cameraInput');
        const galleryInput = document.getElementById('galleryInput');
        const previewContainer = document.getElementById('previewContainer');
        const previewImage = document.getElementById('previewImage');
        const analyzeBtn = document.getElementById('analyzeBtn');
        const resetBtn = document.getElementById('resetBtn');
        const loadingIndicator = document.getElementById('loadingIndicator');
        const resultsSection = document.getElementById('resultsSection');

        uploadArea.addEventListener('click', () => fileInput.click());

        cameraBtn.addEventListener('click', () => cameraInput.click());

        cameraInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                handleImageUpload(file);
            }
        });

        galleryInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                handleImageUpload(file);
            }
        });

        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('dragover');
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            const file = e.dataTransfer.files[0];
            if (file && file.type.startsWith('image/')) {
                handleImageUpload(file);
            }
        });

        fileInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                handleImageUpload(file);
            }
        });

        function handleImageUpload(file) {
            const reader = new FileReader();
            reader.onload = (e) => {
                previewImage.src = e.target.result;
                try { localStorage.setItem('uploadedImage', e.target.result); } catch (err) { /* ignore storage errors */ }
                previewContainer.classList.add('active');
                resultsSection.classList.remove('active');
            };
            reader.readAsDataURL(file);

        }

        analyzeBtn.addEventListener('click', () => {
            loadingIndicator.classList.add('active');
            previewContainer.style.display = 'none';

            setTimeout(() => {
                loadingIndicator.classList.remove('active');
                resultsSection.classList.add('active');
                previewContainer.style.display = 'block';
                animatePropertyBars();
            }, 2500);
        });

        resetBtn.addEventListener('click', () => {
            fileInput.value = '';
            cameraInput.value = '';
            galleryInput.value = '';
            previewContainer.classList.remove('active');
            resultsSection.classList.remove('active');
            previewImage.src = '';
            previewImage.removeAttribute('src');
            try { localStorage.removeItem('uploadedImage'); } catch (err) { /* ignore */ }
            previewContainer.style.display = 'none';
        });

        function animatePropertyBars() {
            const fills = document.querySelectorAll('.property-fill');
            fills.forEach(fill => {
                const width = fill.style.width;
                fill.style.width = '0%';
                setTimeout(() => {
                    fill.style.width = width;
                }, 100);
            });
        }
    </script>
</body>

</html>